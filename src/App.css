/* 기본 스타일 */
.lyrics-canvas-container {
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
  border-radius: 8px;
  transition: all 0.3s ease;
  margin: 0 auto;
  overflow: hidden; /* Prevent any content overflow */
  position: relative; /* For absolute positioning of children */
}

/* 세로 모드 - 정확한 9:16 비율 */
.portrait-canvas {
  /* FIXED RATIO: width:height = 9:16 (or width/height = 0.5625) */
  width: 360px !important; /* Fixed width */
  height: 640px !important; /* Fixed height for exact 9:16 ratio (360 * 16/9 = 640) */
  min-height: 640px !important; /* Prevent shrinking */
  max-height: 640px !important; /* Prevent growing */
  border: 2px solid #5b6bd7; /* Visual indicator for portrait mode */
  box-sizing: border-box !important; /* Include border in size calculation */
  overflow: hidden !important; /* Prevent any content from affecting the ratio */
}

/* 가로 모드 - 정확한 16:9 비율 */
.landscape-canvas {
  /* 정확한 16:9 비율 */
  aspect-ratio: 16/9 !important; 
  width: 100%;
  max-width: 853px; /* Standard 16:9 width */
  border: 2px solid #d75b6b; /* Visual indicator for landscape mode */
  box-sizing: border-box; /* Include border in size calculation */
}

/* 레이아웃 미리보기 아이콘 비율 수정 */
.portrait-preview-icon {
  width: 24px;
  height: 42.67px; /* Exact 9:16 ratio */
  background-color: currentColor;
  border-radius: 4px;
  opacity: 0.7;
}

.landscape-preview-icon {
  width: 42.67px;
  height: 24px; /* Exact 16:9 ratio */
  background-color: currentColor;
  border-radius: 4px;
  opacity: 0.7;
}

/* 캔버스 내부 스타일 */
.lyrics-canvas-inner {
  font-feature-settings: "kern", "liga", "calt";
  text-rendering: optimizeLegibility;
  width: 100% !important;
  height: 100% !important;
  display: flex;
  flex-direction: column;
  justify-content: center;
  box-sizing: border-box !important;
  padding: 2rem;
  animation: fadeIn 0.5s ease-in-out;
  overflow: hidden !important;
}

.lyrics-title {
  font-weight: 700;
  margin-bottom: 2rem;
  width: 100%;
}

.lyrics-content {
  white-space: pre-wrap;
  width: 100%;
}

.lyrics-author {
  margin-top: 2rem;
  opacity: 0.8;
  align-self: flex-end;
}

/* 모바일 최적화 - 유지 비율 스케일링 */
@media (max-width: 420px) {
  .portrait-canvas {
    width: 270px !important; /* 75% of original width */
    height: 480px !important; /* 75% of original height, maintaining 9:16 ratio (270 * 16/9 = 480) */
    min-height: 480px !important; /* Prevent shrinking */
    max-height: 480px !important; /* Prevent growing */
    transform-origin: center top;
    margin: 0 auto;
  }
}

/* 중간 크기 화면 */
@media (min-width: 421px) and (max-width: 768px) {
  .portrait-canvas {
    width: 324px !important; /* 90% of original width */
    height: 576px !important; /* 90% of original height, maintaining 9:16 ratio (324 * 16/9 = 576) */
    min-height: 576px !important; /* Prevent shrinking */
    max-height: 576px !important; /* Prevent growing */
    transform-origin: center top;
    margin: 0 auto;
  }
  
  .landscape-canvas {
    width: 95% !important;
    max-width: 720px; /* Smaller max width for medium screens */
  }
}

/* 더 작은 화면 높이 */
@media (max-height: 700px) {
  .portrait-canvas {
    width: 270px !important; /* 75% of original width */
    height: 480px !important; /* 75% of original height, maintaining 9:16 ratio (270 * 16/9 = 480) */
    min-height: 480px !important; /* Prevent shrinking */
    max-height: 480px !important; /* Prevent growing */
    margin-top: 10px;
    margin-bottom: 10px;
  }
}

/* 애니메이션 효과 */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* 디버그 표시를 위한 스타일 */
.debug-info {
  position: fixed;
  bottom: 10px;
  left: 10px;
  background-color: rgba(0, 0, 0, 0.8);
  color: white;
  padding: 5px 10px;
  border-radius: 5px;
  font-size: 12px;
  font-family: monospace;
  z-index: 9999;
}